<div class="mat-elevation-z8 data-table">

  <mat-toolbar>
    <mat-toolbar-row>
      <a mat-button (click)="back()">
        <mat-icon aria-label="Side nav toggle icon">keyboard_backspace</mat-icon>
      </a>
      <span>Proiect Hexagon </span>
    </mat-toolbar-row>
  </mat-toolbar>
  <mat-divider></mat-divider>


  <div class="table-header">
    <div class="left-header">
      <h2>Descriere</h2>
      <span>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
        dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
        pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est
        laborum.</span>
    </div>
    <div class="right-header">
      <h2>Documente</h2>
      <mat-list role="list">
        <mat-list-item role="listitem" class="file-list">
          <a href="#"><svg height="16px" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"
              width="16px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink">
              <g id="_x31_19-excel">
                <g>
                  <g>
                    <path
                      d="M476.624,97.457H289.746v57.656h43.131c7.934,0,14.371,6.458,14.371,14.413     c0.001,7.957-6.438,14.415-14.371,14.415h-43.131v28.831h43.131c7.934,0,14.371,6.458,14.371,14.408     c0.001,7.96-6.438,14.417-14.371,14.417h-43.131v28.828h43.131c7.934,0,14.371,6.457,14.371,14.415     c0.001,7.951-6.438,14.409-14.371,14.409h-43.131v28.832h43.131c7.934,0,14.371,6.458,14.371,14.417     c0,7.956-6.438,14.412-14.371,14.412h-43.131v57.653h186.878c7.938,0,14.376-6.455,14.375-14.416V111.87     C490.999,103.913,484.562,97.457,476.624,97.457z M419.125,356.909h-28.75c-7.934,0-14.377-6.456-14.377-14.412     c0-7.959,6.443-14.417,14.377-14.417h28.75c7.933,0,14.373,6.458,14.373,14.417C433.498,350.453,427.058,356.909,419.125,356.909     z M419.125,299.248h-28.75c-7.934,0-14.377-6.458-14.377-14.409c0-7.958,6.443-14.415,14.377-14.415h28.75     c7.933,0,14.373,6.457,14.373,14.415C433.498,292.79,427.058,299.248,419.125,299.248z M419.125,241.596h-28.75     c-7.934,0-14.377-6.457-14.377-14.417c0-7.95,6.443-14.408,14.377-14.408h28.75c7.933,0,14.373,6.458,14.373,14.408     C433.498,235.139,427.058,241.596,419.125,241.596z M419.125,183.939h-28.75c-7.934,0-14.377-6.458-14.377-14.415     c0-7.955,6.443-14.413,14.377-14.413h28.75c7.933,0,14.373,6.458,14.373,14.413C433.498,177.482,427.058,183.939,419.125,183.939     z"
                      style="fill:#207245;" />
                    <path
                      d="M274.548,43.115c-3.282-2.738-7.681-3.922-11.819-3.053L32.731,83.3     c-6.814,1.275-11.73,7.211-11.73,14.157v317.106c0,6.919,4.916,12.883,11.73,14.157l229.997,43.24     c0.862,0.17,1.754,0.259,2.646,0.259c3.334,0,6.582-1.152,9.172-3.318c3.309-2.734,5.199-6.828,5.199-11.099v-43.239v-57.653     V328.08v-28.832v-28.824v-28.828v-28.826v-28.831v-28.827V97.457V54.219C279.745,49.921,277.854,45.855,274.548,43.115z      M217.338,324.504c-2.732,2.395-6.1,3.578-9.466,3.578c-3.992,0-7.96-1.675-10.809-4.954l-41.799-47.891l-36.659,47.277     c-2.843,3.665-7.071,5.565-11.354,5.565c-3.073,0-6.21-0.98-8.857-3.025c-6.236-4.898-7.388-13.953-2.499-20.241l40.078-51.657     l-39.532-45.317c-5.232-5.97-4.627-15.078,1.351-20.32c5.923-5.25,15.01-4.703,20.269,1.357l35.88,41.102l42.583-54.889     c4.909-6.253,13.938-7.407,20.176-2.504c6.238,4.896,7.395,13.95,2.507,20.238l-45.978,59.271l45.46,52.088     C223.918,310.152,223.316,319.262,217.338,324.504z"
                      style="fill:#207245;" />
                  </g>
                </g>
              </g>
              <g id="Layer_1" />
            </svg> Extras Cf.</a>
        </mat-list-item>
        <mat-list-item role="listitem" class="file-list">
          <a href="#">
            <svg enable-background="new 0 0 1024 1024" height="16px" id="Layer_1" version="1.1" viewBox="0 0 1024 1024"
              width="16px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink">

              <path
                d="M808.817,0H394.076L145.071,249.004v704.225c0,39.023,31.452,70.771,70.111,70.771h593.635  c38.66,0,70.111-31.748,70.111-70.771V70.772C878.929,31.748,847.478,0,808.817,0z M854.753,953.229  c0,25.566-20.607,46.367-45.936,46.367H215.183c-25.328,0-45.935-20.801-45.935-46.367V249.004h164.828c33,0,60-27,60-60v-164.6  h414.741c25.328,0,45.936,20.801,45.936,46.368V953.229z"
                fill="#C0392B" />
              <g>
                <path d="M80,670.833h65.071V585l-70.946,88.375h0.012C75.337,671.805,77.368,670.833,80,670.833z"
                  fill="#262626" />
                <path d="M944,670.833h-65.071V585l70.946,88.375h-0.012C948.663,671.805,946.632,670.833,944,670.833z"
                  fill="#262626" />
                <path
                  d="M882.443,861.471c-1.934,5.149-8.015,9.362-13.515,9.362H155.071c-5.5,0-11.582-4.213-13.515-9.362   L73.514,680.195c-1.933-5.149,0.986-9.362,6.486-9.362h864c5.5,0,8.419,4.213,6.486,9.362L882.443,861.471z"
                  fill="#C0392B" />
              </g>
              <g>
                <path
                  d="M335.251,818.323c0-5.013,1.484-8.881,4.454-11.606c2.97-2.724,7.287-4.087,12.955-4.087   c5.395,0,9.535,1.363,12.424,4.087c2.888,2.726,4.332,6.594,4.332,11.606c0,4.903-1.485,8.732-4.455,11.483   c-2.971,2.751-7.069,4.127-12.301,4.127c-5.395,0-9.645-1.362-12.75-4.086C336.804,827.123,335.251,823.282,335.251,818.323z"
                  fill="#FFFFFF" />
                <path
                  d="M476.241,750.402c0,13.351-3.938,23.662-11.811,30.937c-7.874,7.273-19.058,10.911-33.552,10.911h-9.072   v39.641h-32.284V712.396h41.356c15.093,0,26.427,3.297,34.001,9.89C472.453,728.88,476.241,738.252,476.241,750.402z    M421.807,765.932h5.885c4.85,0,8.705-1.361,11.565-4.087c2.86-2.724,4.291-6.483,4.291-11.279c0-8.063-4.469-12.097-13.404-12.097   h-8.337V765.932z"
                  fill="#FFFFFF" />
                <path
                  d="M596.716,769.609c0,19.943-5.488,35.31-16.469,46.098c-10.98,10.789-26.414,16.184-46.302,16.184h-38.66   V712.396h41.357c19.179,0,33.987,4.903,44.423,14.712C591.499,736.916,596.716,751.084,596.716,769.609z M563.206,770.754   c0-10.952-2.166-19.07-6.498-24.356c-4.332-5.285-10.912-7.929-19.738-7.929h-9.399v66.94h7.192c9.809,0,17-2.847,21.578-8.541   C560.917,791.175,563.206,782.47,563.206,770.754z"
                  fill="#FFFFFF" />
                <path d="M649.925,831.891h-31.793V712.396h70.617v25.909h-38.824v22.804h35.801v25.909h-35.801V831.891z"
                  fill="#FFFFFF" />
              </g>
              <g>
                <g>
                  <g>
                    <path
                      d="M729.983,369.821c0,8.25-9,15-20,15H314.852c-11,0-20-6.75-20-15s9-15,20-15h395.132     C720.983,354.821,729.983,361.571,729.983,369.821z"
                      fill="#C0392B" />
                  </g>
                  <g>
                    <path
                      d="M729.148,459.821c0,8.25-9,15-20,15H314.017c-11,0-20-6.75-20-15s9-15,20-15h395.132     C720.148,444.821,729.148,451.571,729.148,459.821z"
                      fill="#C0392B" />
                  </g>
                  <g>
                    <path
                      d="M729.983,550.016c0,8.25-9,15-20,15H314.852c-11,0-20-6.75-20-15s9-15,20-15h395.132     C720.983,535.016,729.983,541.766,729.983,550.016z"
                      fill="#C0392B" />
                  </g>
                </g>
              </g>
            </svg> Randare </a></mat-list-item>

      </mat-list>

      <button mat-raised-button (click)="openFile()">Alege document...

        <input type="file" style="display:none" (change)="handle($event)" [(ngModel)]="selectedFile">
      </button>
      <span>{{selectedFile}}</span>
    </div>
  </div>
  <mat-divider></mat-divider>
  <table mat-table class="full-width-table" matSort aria-label="Elements" id="materialsTable">
    <!-- Id Column -->

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Nr.</th>
      <td mat-cell *matCellDef="let row">{{row.isTotal == false && row.isZone == false ? row.id : ''}}</td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Denumire</th>
      <td mat-cell *matCellDef="let row">{{row.name}}</td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="manufacturer">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Producator</th>
      <td mat-cell *matCellDef="let row">{{row.manufacturer}}</td>
    </ng-container>

    <ng-container matColumnDef="code">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Cod</th>
      <td mat-cell *matCellDef="let row">{{row.code}}</td>
    </ng-container>

    <ng-container matColumnDef="description">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Descriere</th>
      <td mat-cell *matCellDef="let row"><span>{{row.description}}</span></td>
    </ng-container>

    <ng-container matColumnDef="place">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Amplasare</th>
      <td mat-cell *matCellDef="let row"><span>{{row.place}}</span></td>
    </ng-container>

    <ng-container matColumnDef="link">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Link</th>
      <td mat-cell *matCellDef="let row">
        <a href="{{row.link}}" target="blank">
          <mat-icon aria-label="Side nav toggle icon">{{row.isTotal == false && row.isZone == false ? 'link' : ''}}
          </mat-icon>
        </a>
      </td>
    </ng-container>

    <ng-container matColumnDef="image">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Imagine</th>
      <td mat-cell *matCellDef="let row">
        <a href="{{row.image}}" target="blank">
          <mat-icon aria-label="Side nav toggle icon">{{row.isTotal == false && row.isZone == false ? 'image' : ''}}
          </mat-icon>
        </a>
      </td>
    </ng-container>

    <ng-container matColumnDef="quantity">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Cantitate</th>
      <td mat-cell *matCellDef="let row">{{row.quantity}}</td>
    </ng-container>

    <ng-container matColumnDef="uom">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>U.M.</th>
      <td mat-cell *matCellDef="let row">{{row.isTotal == false && row.isZone == false ? row.uom : ''}}</td>
    </ng-container>

    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Pret / U.M.</th>
      <td mat-cell *matCellDef="let row">{{row.isTotal == false && row.isZone == false ? row.price + ' lei' : ''}}</td>
    </ng-container>

    <ng-container matColumnDef="total_price">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Pret total</th>
      <td mat-cell *matCellDef="let row">
        <span *ngIf="row.isZone == false">{{row.quantity * row.price + ' lei' }}
        </span>
        <button mat-button *ngIf="row.isZone == true" (click)="addMaterialToZone(row.zoneId,row.name)">
          <mat-icon aria-label="Side nav toggle icon">add</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsMaterial"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsMaterial;"
      [ngClass]="{'isTotalLine': row.isTotal == true, 'isZone': row.isZone == true }">
    </tr>
  </table>

  <mat-paginator #paginator [length]="dataSource?.data.length" [pageIndex]="0" [pageSize]="50"
    [pageSizeOptions]="[25, 50, 100, 250]">
  </mat-paginator>

  <mat-divider></mat-divider>
  <section>
    <div class="example-button-row">

      <button mat-raised-button color="primary" (click)="addZone()">Adauga zona</button>

      <button mat-raised-button matTooltip="Descarca PDF" class="excel-button" (click)="exportPDF()">
        <mat-icon aria-label="Side nav toggle icon">picture_as_pdf</mat-icon>
      </button>
      <button mat-raised-button matTooltip="Descarca Excel" class="pdf-button" (click)="exportTable()">
        <mat-icon aria-label="Side nav toggle icon">description</mat-icon>
      </button>
    </div>
  </section>
  <mat-divider></mat-divider>
</div>